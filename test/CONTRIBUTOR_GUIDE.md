# CONTRIBUTOR GUIDE

## General Workflow 

* Changes to actual code should only be made on the files within `src/`, not to the files in `dist/`, which are generated by the `./run` script.
* Everything you do in the terminal in terms of testing should be done via the `./run` script.

## The run Script and testing

The `run` script allows you to emulate a project using **gdm** right at the gdm repository root, which is why the following, which should be created, are `.gitignore`d (at the project root):

```sh
gdm_required/*
gdm.zsh
```

The `gdm.zsh` script is any **gdm** the project's configuration file and also acts as an entry point to execute the compiled **gdm** script (at the path `$GDM`). The reason  `gdm.zsh` is executed instead of the installed `$GDM` is that  `gdm.zsh`  can be executed from any shell, not just zsh, without configuring your shell's `PATH`  for **gdm** at all.  The `gdm.zsh` script also acts as an installer if the compiled script is not found and hence the only **gdm** related file that needs to be distributed with a project using **gdm** is `gdm.zsh`.

### `./run compile` to `$GDM_REGISTRY`

Normally, the executable (`$GDM`) will be installed to `$GDM_REGISTRY/gdm-$GDM_VERSION.zsh` and you can compile `src/` to this by running.

```sh
./run compile to=REGISTRY # or anything starting 'gdm_reg' or 'reg' (case insensitive)
```

which, by the way,  is short for the following:

```sh
source ./src/0-gdm-header.zsh # (to export GDM_REGISTRY and GDM_VERSION)
./run compile to="$GDM_REGISTRY" as="gdm-$GDM_VERSION.zsh"
```

However, you may not want to clobber the main `gdm` executable on your machine and so compiling to a different name   by passing something else with the `as=` flag may be preferable. 

### Running the compiled source

Executing `./gdm.zsh` will itself decide where `$GDM` is found (and what version it is since that  is part of the filename) before executing it unless `export GDM=<path>`  is set beforehand. This is, in part, so we can bypass the default while testing. Using `run` will do this for you as it exports the just compiled path to `GDM`. The caveat is that your shell won't have the value afterward (unless  you `source ./run`... but that's not recommended) so you'll need to also use `run`  for testing, in the same call to `./run`. For example:

```sh
./run compile as=test ./gdm.zsh # plus any args
```







Running `./run compile <...>` will export 



## The run Script and releasing





